import java.util.ArrayList;
import java.util.Date;
import java.util.List;


public class GAEC extends Exploitation {
	private int dureeEnAnnee;
	private float capital;
	private List<Associe> lesAssocies;
	

	public GAEC(String nom, String adresse, int noExploitation, Date dateDebut, int dureeEnAnnee, float capital) {
		super(nom, adresse, noExploitation, dateDebut);
		this.dureeEnAnnee = dureeEnAnnee;
		this.capital = capital;
		this.lesAssocies = new ArrayList<Associe>();
	}

	public int getDureeEnAnnee() {
		return dureeEnAnnee;
	}

	public void setDureeEnAnnee(int dureeEnAnnee) {
		this.dureeEnAnnee = dureeEnAnnee;
	}

	public float getCapital() {
		return capital;
	}

	public void setCapital(float capital) {
		this.capital = capital;
	}

	@Override
	public String toString() {
		return "GAEC [dureeEnAnnee=" + dureeEnAnnee + ", capital=" + capital
				+ ", toString()=" + super.toString() + "]";
	}

	public List<Associe> getLesAssocies() {
		return lesAssocies;
	}

	public void setLesAssocies(List<Associe> lesAssocies) {
		this.lesAssocies = lesAssocies;
	}
	
	public void addAssocie(Associe associe) {
		this.lesAssocies.add(associe);
	}
	
	public Associe removeAssocie(int index){
		Associe laSaucisse;
		if (index >= 0 && index < this.lesAssocies.size()){
			laSaucisse = this.lesAssocies.get(index);
			this.lesAssocies.remove(index);
		}
		else {
			laSaucisse = null;
		}
		return laSaucisse;
	}
	
	public Associe removeAssocie(Associe unAssocie){
		Associe Ohisse;
		if (this.lesAssocies.contains(unAssocie)){
			Ohisse = unAssocie;
			this.lesAssocies.remove(unAssocie);
		}
		else {
			Ohisse = null;
		}
		return Ohisse;
	}
	
	public void AllAssocie(){
		this.lesAssocies.clear();
	}
	
	public Associe getAssocie(int index){
		Associe laSaucisse;
		if (index >= 0 && index < this.lesAssocies.size()){
			laSaucisse = this.lesAssocies.get(index);
		}
		else {
			laSaucisse = null;
		}
		return laSaucisse;
	}
	
	public Associe getAssocie(String nom,String prenom){
		int taille, i;
		Associe laSaucisse;
		
		i = 0;
		taille= lesAssocies.size();
		
		while (i < taille && !(this.lesAssocies.get(i).getNom().compareTo(nom)== 0 && this.lesAssocies.get(i).getPrenom().compareTo(prenom) == 0)){
			i++;
		}
		if (i < taille){
			laSaucisse = this.lesAssocies.get(i);
		}
		else {
			laSaucisse = null;
		}
		return laSaucisse;
	}
	
	public int getIndexAssocie (Associe associe){
		int index, taille, i;
		index = -1;
		taille = lesAssocies.size();
		i = 0;
	
		while (i < taille && this.lesAssocies.get(i) == associe ){
			i++;
		}
		if (this.lesAssocies.get(i) == associe){
			index = i;
		}	
		return index;
	}

	public int getIndexAssocie2 (Associe associe){
		return this.lesAssocies.indexOf(associe);
	}
	
	public List<Associe> getLesAssocies1(){
		return this.lesAssocies;
	}
	
	public int totalNbParts(){
		int i, taille, nbParts;
		nbParts = 0;
		taille = this.lesAssocies.size();
		
		for (i = 0; i < taille; i++){
			nbParts = nbParts + this.lesAssocies.get(i).getNbParts();
		}
		return nbParts;
	}
	
	
}
